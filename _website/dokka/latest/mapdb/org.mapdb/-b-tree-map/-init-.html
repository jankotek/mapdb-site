<HTML>
<HEAD>
<title>BTreeMap.<init> - mapdb</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">mapdb</a>&nbsp;/&nbsp;<a href="../index.html">org.mapdb</a>&nbsp;/&nbsp;<a href="index.html">BTreeMap</a>&nbsp;/&nbsp;<a href=".">&lt;init&gt;</a><br/>
<br/>
<h1>&lt;init&gt;</h1>
<code><span class="identifier">BTreeMap</span><span class="symbol">(</span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/keySerializer">keySerializer</span><span class="symbol">:</span>&nbsp;<a href="../../org.mapdb.serializer/-group-serializer/index.html"><span class="identifier">GroupSerializer</span></a><span class="symbol">&lt;</span><span class="identifier">K</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/valueSerializer">valueSerializer</span><span class="symbol">:</span>&nbsp;<a href="../../org.mapdb.serializer/-group-serializer/index.html"><span class="identifier">GroupSerializer</span></a><span class="symbol">&lt;</span><span class="identifier">V</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/rootRecidRecid">rootRecidRecid</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/store">store</span><span class="symbol">:</span>&nbsp;<a href="../-store/index.html"><span class="identifier">Store</span></a><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/maxNodeSize">maxNodeSize</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/comparator">comparator</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Comparator.html"><span class="identifier">Comparator</span></a><span class="symbol">&lt;</span><span class="identifier">K</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/threadSafe">threadSafe</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/counterRecid">counterRecid</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="org.mapdb.BTreeMap$<init>(org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.K)), org.mapdb.serializer.GroupSerializer((org.mapdb.BTreeMap.V)), kotlin.Long, org.mapdb.Store, kotlin.Int, java.util.Comparator((org.mapdb.BTreeMap.K)), kotlin.Boolean, kotlin.Long, kotlin.Boolean)/hasValues">hasValues</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span>&nbsp;<span class="symbol">=</span>&nbsp;true<span class="symbol">)</span></code><br/>
<p>A scalable concurrent {@link ConcurrentNavigableMap} implementation.
The map is sorted according to the {@linkplain Comparable natural
ordering} of its keys, or by a {@link Comparator} provided at map
creation time.</p>
<p>Insertion, removal,
update, and access operations safely execute concurrently by
multiple threads.  Iterators are weakly consistent, returning
elements reflecting the state of the map at some point at or since
the creation of the iterator.  They do not throw {@link
ConcurrentModificationException}, and may proceed concurrently with
other operations. Ascending key ordered views and their iterators
are faster than descending ones.</p>
<p>All Map.Entry pairs returned by methods in this class
and its views represent snapshots of mappings at the time they were
produced. They do not support the Entry.setValue
method. (Note however that it is possible to change mappings in the
associated map using put, putIfAbsent, or
replace, depending on exactly which effect you need.)
TODO is this correct, setValue might work?</p>
<p>By default BTreeMap does not track its size and {@code size()} traverses collection to count its entries.
There is option to enable counter, in that case {@code size()} returns instantly</p>
<p>Additionally, the bulk operations putAll, equals, and
clear are not guaranteed to be performed
atomically. For example, an iterator operating concurrently with a
putAll operation might view only some of the added
elements. NOTE: there is an optional</p>
<p>This class and its views and iterators implement all of the
optional methods of the {@link Map} and {@link Iterator}
interfaces. Like most other concurrent collections, this class does
not permit the use of null keys or values because some
null return values cannot be reliably distinguished from the absence of</p>
<p>Theoretical design of BTreeMap is based on 1986 paper

Concurrent operations on Bâˆ—-trees with overtaking
written by Yehoshua Sagiv.
More practical aspects of BTreeMap implementation are based on
demo application from Thomas Dinsdale-Young.
Also more work from Thomas: A Simple Abstraction for Complex Concurrent Indexes</p>
<p>B-Linked-Tree used here does not require locking for read.
Updates and inserts locks only one, two or three nodes.</p>
<p>This B-Linked-Tree structure does not support removal well, entry deletion does not collapse tree nodes. Massive
deletion causes empty nodes and performance lost. There is workaround in form of compaction process, but it is not
implemented yet.</p>
<br/>
<br/>
<strong>Author</strong><br/>
Jan Kotek<br/>
<strong>Author</strong><br/>
some parts by Doug Lea and JSR-166 group<br/>
<br/>
<br/>
</BODY>
</HTML>
